{"version":3,"sources":["../../../api/server/controllers/carController.js"],"names":["util","Util","CarController","req","res","Car","getAllCars","allCars","length","setSuccess","send","setError","getAllStateCars","allStateCars","maxPrice","params","max_price","minPrice","min_price","getAllRangeCars","allCarsInRange","getAllAdminCars","allAdminCars","getAllBodyTypeCars","body","title","price","description","newCar","addCar","createdCar","message","id","Number","markAsSold","updatedCar","updatePrice","alteredBook","updateBook","getACar","theCar","deleteCar","deletedCar"],"mappings":"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","sourcesContent":["import Car from '../src/models/car';\nimport Util from '../utils/Utils';\n\nconst util = new Util();\n\nclass CarController {\n  static async getAllCars(req, res) {\n    try {\n      const allCars = await Car.getAllCars();\n      if (allCars.length > 0) {\n        util.setSuccess(200, 'Cars retrieved', allCars);\n      } else {\n        util.setSuccess(200, 'No car found');\n      }\n      return util.send(res);\n    } catch (error) {\n      util.setError(400, error);\n      return util.send(res);\n    }\n  }\n\n  static async getAllStateCars(req, res) {\n    try {\n      const allStateCars = await Car.getAllStateCars();\n      if (allStateCars.length > 0) {\n        util.setSuccess(200, 'Cars retrieved', allStateCars);\n      } else {\n        util.setSuccess(200, 'No car found');\n      }\n      return util.send(res);\n    } catch (error) {\n      util.setError(400, error);\n      return util.send(res);\n    }\n  }\n\n  static async getAllRangeCars(req, res) {\n    try {\n      const maxPrice = req.params.max_price;\n      const minPrice = req.params.min_price;\n      const allCarsInRange = await Car.getAllRangeCars(maxPrice, minPrice);\n      if (allCarsInRange.length > 0) {\n        util.setSuccess(200, 'Cars retrieved', allCarsInRange);\n      } else {\n        util.setSuccess(200, 'No cars found');\n      }\n      return util.send(res);\n    } catch (error) {\n      util.setError(400, error);\n      return util.send(res);\n    }\n  }\n\n  static async getAllAdminCars(req, res) {\n    try {\n      const allAdminCars = await Car.getAllAdminCars();\n      if (allAdminCars.length > 0) {\n        util.setSuccess(200, 'Cars retrieved', allAdminCars);\n      } else {\n        util.setSuccess(200, 'No car found');\n      }\n      return util.send(res);\n    } catch (error) {\n      util.setError(400, error);\n      return util.send(res);\n    }\n  }\n\n  static async getAllBodyTypeCars(req, res) {\n    try {\n      const allCars = await Car.getAllBodyTypeCars();\n      if (allCars.length > 0) {\n        util.setSuccess(200, 'Cars retrieved', allCars);\n      } else {\n        util.setSuccess(200, 'No car found');\n      }\n      return util.send(res);\n    } catch (error) {\n      util.setError(400, error);\n      return util.send(res);\n    }\n  }\n\n  static async addCar(req, res) {\n    if (!req.body.title || !req.body.price || !req.body.description) {\n      util.setError(400, 'Please provide complete details');\n      return util.send(res);\n    }\n    const newCar = req.body;\n    try {\n      const createdCar = await Car.addCar(newCar);\n      util.setSuccess(201, 'Car Added!', createdCar);\n      return util.send(res);\n    } catch (error) {\n      util.setError(401, error.message);\n      return util.send(res);\n    }\n  }\n\n  static async markAsSold(req, res) {\n    const { id } = req.params;\n    if (!Number(id)) {\n      util.setError(400, 'Please input a valid numeric value');\n      return util.send(res);\n    }\n    try {\n      const updatedCar = await Car.markAsSold(id);\n      if (!updatedCar) {\n        util.setError(401, `Cannot find car with the id: ${id}`);\n      } else {\n        util.setSuccess(201, 'car status updated', updatedCar);\n      }\n      return util.send(res);\n    } catch (error) {\n      util.setError(401, error);\n      return util.send(res);\n    }\n  }\n\n  static async updatePrice(req, res) {\n    const { id, price } = req.params;\n    if (!Number(id)) {\n      util.setError(400, 'Please input a valid numeric value');\n      return util.send(res);\n    }\n    try {\n      const updatedCar = await Car.updatePrice(id,price);\n      if (!updatedCar) {\n        util.setError(401, `Cannot find car with the id: ${id}`);\n      } else {\n        util.setSuccess(201, 'car status updated', updatedCar);\n      }\n      return util.send(res);\n    } catch (error) {\n      util.setError(401, error);\n      return util.send(res);\n    }\n  }\n\n  static async updateCar(req, res) {\n    const alteredBook = req.body;\n    const { id } = req.params;\n    if (!Number(id)) {\n      util.setError(400, 'Please input a valid numeric value');\n      return util.send(res);\n    }\n    try {\n      const updateBook = await Car.updateBook(id, alteredBook);\n      if (!updateBook) {\n        util.setError(404, `Cannot find book with the id: ${id}`);\n      } else {\n        util.setSuccess(200, 'Book updated', updateBook);\n      }\n      return util.send(res);\n    } catch (error) {\n      util.setError(404, error);\n      return util.send(res);\n    }\n  }\n\n  static async getACar(req, res) {\n    const { id } = req.params;\n    if (!Number(id)) {\n      util.setError(400, 'Please input a valid numeric value');\n      return util.send(res);\n    }\n    try {\n      const theCar = await Car.getACar(id);\n      if (!theCar) {\n        util.setError(400, `Cannot find car with the id ${id}`);\n      } else {\n        util.setSuccess(200, 'Found it', theCar);\n      }\n      return util.send(res);\n    } catch (error) {\n      util.setError(400, error);\n      return util.send(res);\n    }\n  }\n\n  static async deleteCar(req, res) {\n    const { id } = req.params;\n\n    if (!Number(id)) {\n      util.setError(400, 'Please provide a numeric value');\n      return util.send(res);\n    }\n\n    try {\n      const deletedCar = await Car.deleteCar(id);\n\n      if (deletedCar) {\n        util.setSuccess(200, 'Car deleted');\n      } else {\n        util.setError(404, `Car with the id ${id} cannot be found`);\n      }\n      return util.send(res);\n    } catch (error) {\n      util.setError(400, error);\n      return util.send(res);\n    }\n  }\n}\n\nexport default CarController;\n"],"file":"carController.js"}